"use strict";(self.webpackChunklearning_react=self.webpackChunklearning_react||[]).push([[816],{2816:function(e,s,t){t.r(s),t.d(s,{default:function(){return J}});var a=t(1413),n=t(6871),o=t(5671),r=t(3144),i=t(136),l=t(3668),c=t(2791),u="Profile_hero__fIb3-",f=t(9743),d=t(2677),h={userInfo:"ProfileInfo_userInfo__AfNdD",userPic:"ProfileInfo_userPic__tP3jr",profileContacts:"ProfileInfo_profileContacts__ED1sm",statusText:"ProfileInfo_statusText__0gk15"},m=t(2526),p=t(885),j=t(5705),x=t(3855),g=t(184),b=function(e){var s=e.profile,t=e.updateStatus;s.aboutMe||(s={aboutMe:"hi there",lookingForAJob:!0,lookingForAJobDescription:"looking for job"});var a=(0,c.useState)(!1),n=(0,p.Z)(a,2),o=n[0],r=n[1],i=(0,c.useState)(e.status),l=(0,p.Z)(i,2),u=l[0],f=l[1];(0,c.useEffect)((function(){f(e.status)}),[e.status]);return(0,g.jsxs)("section",{className:"profileStatus",children:[(0,g.jsxs)("div",{className:"statusWrap",children:[s.aboutMe&&s.aboutMe,!o&&(0,g.jsx)("div",{className:h.statusText,onDoubleClick:function(){r(!0)},children:u||"hi"}),o&&(0,g.jsx)("div",{className:h.editStatus,onBlur:function(){r(!1),t(u)},children:(0,g.jsx)(j.J9,{initialValues:{newStatus:u||"hi"},onSubmit:function(e,s){var a=s.setSubmitting;s.resetForm;setTimeout((function(){var s;s=e.newStatus,f(s),t(s),a(!1),r(!1)}),400)},children:function(e){var s=e.values,t=e.handleSubmit;e.isSubmitting;return(0,g.jsx)(j.l0,{onSubmit:t,onBlur:t,children:(0,g.jsx)(x.Z.Group,{children:(0,g.jsx)(j.gN,{name:"newStatus",placeholder:u||"hi",value:s.newStatus,autoFocus:!0})})})}})})]}),s.lookingForAJob&&(0,g.jsx)("i",{className:"fa-solid fa-hand"}),(0,g.jsx)("b",{children:s.lookingForAJobDescription&&s.lookingForAJobDescription})]})},v=function(e){var s=e.profile,t=e.status,a=e.updateStatus;return s?(0,g.jsxs)(f.Z,{className:h.userInfo+" py-4",children:[(0,g.jsx)(d.Z,{className:h.userPic,children:(0,g.jsx)("img",{src:s.photos.large?s.photos.large:"https://picsum.photos/120/100",alt:""})}),(0,g.jsxs)(d.Z,{md:10,children:[(0,g.jsx)("h1",{children:s.fullName}),(0,g.jsx)(b,{updateStatus:a,status:t,profile:s}),(0,g.jsxs)("div",{className:h.profileContacts,children:[s.contacts.github&&(0,g.jsx)("a",{target:"blank",href:s.contacts.github,children:(0,g.jsx)("i",{className:"fa-brands fa-github"})}),s.contacts.vk&&(0,g.jsx)("a",{target:"blank",href:s.contacts.vk,children:(0,g.jsx)("i",{className:"fa-brands fa-vk"})}),s.contacts.facebook&&(0,g.jsx)("a",{target:"blank",href:s.contacts.facebook,children:(0,g.jsx)("i",{className:"fa-brands fa-facebook"})}),s.contacts.instagram&&(0,g.jsx)("a",{target:"blank",href:s.contacts.instagram,children:(0,g.jsx)("i",{className:"fa-brands fa-instagram"})}),s.contacts.twitter&&(0,g.jsx)("a",{target:"blank",href:s.contacts.twitter,children:(0,g.jsx)("i",{className:"fa-brands fa-twitter"})}),s.contacts.youtube&&(0,g.jsx)("a",{target:"blank",href:s.contacts.youtube,children:(0,g.jsx)("i",{className:"fa-brands fa-youtube"})}),s.contacts.website&&(0,g.jsx)("a",{target:"blank",href:s.contacts.website,children:(0,g.jsx)("i",{className:"fa-solid fa-globe"})})]})]})]}):(0,g.jsx)(m.Z,{})},k=t(364),N=t(6070),P=function(e){var s=e.likes;return(0,g.jsxs)("div",{className:"likes-wraper",children:[(0,g.jsx)("span",{className:"likes-count",children:s})," ",(0,g.jsx)("i",{className:"fa-solid fa-thumbs-up"})]})},S="Post_post__hFQ5j",w=function(e){var s=e.message,t=e.likeCount;return(0,g.jsxs)("div",{className:S,children:[s,(0,g.jsx)(P,{likes:t})]})},_="MyPosts_title__9EETM",I=t(3360),y=t(6006),Z=y.Ry().shape({newPost:y.Z_().min(2,"Too Short!").max(200,"Too Long!").trim()}),C=function(e){var s=e.onAddNewPost;return(0,g.jsx)("div",{children:(0,g.jsx)(j.J9,{initialValues:{newPost:""},validationSchema:Z,onSubmit:function(e,t){var a=t.setSubmitting,n=t.resetForm;setTimeout((function(){s(e.newPost),a(!1),n()}),400)},children:function(e){var s=e.values,t=e.handleSubmit,a=e.isSubmitting;return(0,g.jsxs)(j.l0,{onSubmit:t,children:[(0,g.jsx)(x.Z.Group,{children:(0,g.jsx)(j.gN,{component:"textarea",name:"newPost",value:s.newPost,className:"w-100",rows:3,placeholder:"Type your new post..."})}),(0,g.jsx)(j.Bc,{name:"newPost",component:"div",className:"errorMessage"}),(0,g.jsx)(I.Z,{type:"submit",className:"mt-2",disabled:a,variant:"dark",children:"Post"})]})}})})},F=c.memo((function(e){var s=e.profilePage,t=e.onAddNewPost,a=s.posts.map((function(e){return(0,g.jsx)(w,{message:e.message,likeCount:e.likeCount},e.id)}));return(0,g.jsxs)("div",{className:"myPosts",children:[(0,g.jsx)(C,{onAddNewPost:t}),(0,g.jsx)("h2",{className:_+" mt-4 mb-3",children:"My Posts"}),a]})})),A=(0,k.$j)((function(e){return{profilePage:e.profilePage}}),(function(e){return{onAddNewPost:function(s){e((0,N.Wl)(s))}}}))(F),M=function(e){return(0,g.jsxs)("section",{className:"profileContent",children:[(0,g.jsx)("div",{className:u,style:{backgroundImage:"url(https://picsum.photos/1000/200)"}}),(0,g.jsx)(v,(0,a.Z)({},e)),(0,g.jsx)(A,{})]})},T=function(e){(0,i.Z)(t,e);var s=(0,l.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props,s=e.userId,t=e.getProfile,a=e.getStatus;t(s),a(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s){this.props.userId!==e.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,g.jsx)(M,(0,a.Z)({},this.props))}}]),t}(c.Component),D=T,J=(0,t(7781).qC)((0,k.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,loggedInUserId:e.auth.userId}}),{toggleIsFetching:N.MO,setUserProfile:N.$l,getProfile:N.Ai,getStatus:N.lR,updateStatus:N.Nf}))((function(e){var s=(0,n.UO)().userId;return s||(s=e.loggedInUserId),(0,g.jsxs)(g.Fragment,{children:[!s&&(0,g.jsx)(n.Fg,{to:"/login"}),s&&(0,g.jsx)(D,(0,a.Z)({userId:s},e))]})}))}}]);
//# sourceMappingURL=816.b1ccf6e9.chunk.js.map